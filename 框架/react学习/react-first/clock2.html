<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>模拟时钟2</title>
    <script src="js/react/development.js"></script>
    <script src="js/react/dom-development.js"></script>
    <!-- Don't use this in production: -->
    <script src="js/react/babel.min.js"></script>
</head>
</head>
<body>
<div id="root"></div>
<script type="text/babel">
    class Clock extends React.Component {
      constructor() {
        super()
        this.state = {
          nowDate: new Date()
        }
      }
      componentDidMount() {
        this.timer = setInterval(() => {
          this.setState({nowDate: new Date()})
      }, 1000)
      }
      componentWillUnmount() {
        if (this.timer) {
          clearInterval(this.timer)
          delete this.timer
        }
      }
      render() {
        return (
          <div className="clock">
            <h1>Hello world!</h1>
            <h2>It is {this.state.nowDate.toLocaleTimeString()}</h2>
          </div>
        )
      }
    }
    ReactDOM.render(<Clock />, document.getElementById('root'))
</script>
</body>
</html>
