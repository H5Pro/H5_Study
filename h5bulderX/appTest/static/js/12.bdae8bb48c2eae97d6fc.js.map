{"version":3,"sources":["webpack:///./src/pages/Setting/bindPhone.vue","webpack:///./src/pages/Setting/bindPhone.vue?bfe7","webpack:///./src/pages/Setting/bindPhone.vue?d2f3"],"names":["vue_esm","component","field_default","a","name","Header","bindPhone_timer","Setting_bindPhone","components","data","step","phone","validCode","new_phone","sendCodeCD","mounted","this","$store","state","User","user","mobile","methods","onSendCodeClicked","_this","asyncToGenerator_default","regenerator_default","mark","_callee","res","wrap","_context","prev","next","length","window","EventBus","$emit","abrupt","TextUtil","isPhoneValid","Object","API","uuid","sent","code","msg","startTimer","stop","_this2","setInterval","clearInterval","onNextStepClicked","pages_Setting_bindPhone","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","_v","directives","rawName","value","expression","placeholder","type","model","callback","$$v","disabled","domProps","textContent","_s","on","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/12.bdae8bb48c2eae97d6fc.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport Vue from 'vue'\r\nimport Header from '../../components/Header'\r\nimport TextUtil from '../../utils/TextUtil'\r\nimport {sendSMSCode} from '../../api/API'\r\nimport { Field } from 'mint-ui'\r\nVue.component(Field.name, Field)\r\nlet timer = null\r\nexport default {\r\n  name: 'bindPhone',\r\n  components: {\r\n    Header\r\n  },\r\n  data () {\r\n    return {\r\n      step: 1,\r\n      phone: '',\r\n      validCode: '',\r\n      new_phone: '',\r\n      sendCodeCD: 0\r\n    }\r\n  },\r\n  mounted () {\r\n    this.phone = this.$store.state.User.user.mobile\r\n  },\r\n  methods: {\r\n    async onSendCodeClicked () {\r\n      if (this.phone.length < 1) {\r\n        window.EventBus.$emit('globalMessage', '请输入手机号码')\r\n        return\r\n      }\r\n      if (!TextUtil.isPhoneValid(this.phone)) {\r\n        window.EventBus.$emit('globalMessage', '请输入正确的手机号码')\r\n        return\r\n      }\r\n      let res = await sendSMSCode(this.phone, this.$store.state.User.uuid)\r\n      if (res.code === 200) {\r\n        window.EventBus.$emit('globalMessage', res.msg)\r\n      }\r\n      this.sendCodeCD = 60\r\n      this.startTimer()\r\n    },\r\n    startTimer () {\r\n      timer = setInterval(() => {\r\n        if (this.sendCodeCD > 0) {\r\n          this.sendCodeCD--\r\n        } else {\r\n          clearInterval(timer)\r\n        }\r\n      }, 1000)\r\n    },\r\n    onNextStepClicked () {\r\n      this.step = 2\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/Setting/bindPhone.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mfw-page with-header page-session\"},[_c('Header',{attrs:{\"title\":\"绑定手机号\"}}),_vm._v(\" \"),_c('div',{staticClass:\"mfw-page-section\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.step === 1),expression:\"step === 1\"}],staticClass:\"section-content pd20\"},[_c('mt-field',{attrs:{\"placeholder\":\"请输入11位手机号\",\"type\":\"tel\"},model:{value:(_vm.phone),callback:function ($$v) {_vm.phone=$$v},expression:\"phone\"}}),_vm._v(\" \"),_c('mt-field',{attrs:{\"placeholder\":\"输入验证码\",\"type\":\"text\"},model:{value:(_vm.validCode),callback:function ($$v) {_vm.validCode=$$v},expression:\"validCode\"}},[_c('button',{staticClass:\"mfw-button size-sm primary btn-sendcode\",attrs:{\"disabled\":_vm.sendCodeCD > 0},domProps:{\"textContent\":_vm._s(_vm.sendCodeCD === 0 ? '发送验证码' : (_vm.sendCodeCD + \"秒后重新发送\"))},on:{\"click\":_vm.onSendCodeClicked}})])],1)]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.step === 2),expression:\"step === 2\"}],staticClass:\"mfw-page-section\"},[_c('div',{staticClass:\"section-content pd20\"},[_c('mt-field',{attrs:{\"placeholder\":\"请输入新的手机号\",\"type\":\"tel\"},model:{value:(_vm.new_phone),callback:function ($$v) {_vm.new_phone=$$v},expression:\"new_phone\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"menus\"},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.step === 1),expression:\"step === 1\"}],staticClass:\"mfw-button primary round size-lg\",on:{\"click\":_vm.onNextStepClicked}},[_vm._v(\"下一步\")]),_vm._v(\" \"),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.step === 2),expression:\"step === 2\"}],staticClass:\"mfw-button primary round size-lg\"},[_vm._v(\"绑  定\")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-98863788\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/Setting/bindPhone.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-98863788\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vux-loader/src/style-loader.js!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./bindPhone.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./bindPhone.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./bindPhone.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-98863788\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../../node_modules/vux-loader/src/template-loader.js!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./bindPhone.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Setting/bindPhone.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}