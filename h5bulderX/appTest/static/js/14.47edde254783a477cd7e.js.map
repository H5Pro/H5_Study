{"version":3,"sources":["webpack:///./src/pages/Register/index.vue","webpack:///./src/pages/Register/index.vue?7745","webpack:///./src/pages/Register/index.vue?1491"],"names":["vue_esm","component","field_default","a","name","Header","Register_timer","pages_Register","components","data","phone","password","rePassword","inviteCode","validCode","isAgreed","passwordShowed","sendCodeCD","siteName","mounted","this","$route","query","ib","TextUtil","trim","document","title","split","beforeDestroy","clearInterval","methods","showPassword","onSendCodeClicked","_this","asyncToGenerator_default","regenerator_default","mark","_callee","res","wrap","_context","prev","next","length","window","EventBus","$emit","abrupt","isPhoneValid","Object","API","$store","state","User","uuid","sent","code","msg","startTimer","stop","_this2","setInterval","register","_this3","_callee2","_context2","setTimeout","$router","push","path","selectortype_template_index_0_src_pages_Register","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_v","placeholder","type","model","value","callback","$$v","expression","class","on","click","disabled","domProps","textContent","_s","label","directives","rawName","checked","Array","isArray","_i","change","$event","$$a","$$el","target","$$c","$$i","concat","slice","to","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"qOAoCAA,EAAA,QAAIC,UAAUC,EAAAC,EAAMC,KAApBF,EAAAC,GAMIE,EAAA,EANJL,EAAA,QAAIC,UAAUC,EAAAC,EAAMC,KAApBF,EAAAC,GAEA,IAAIG,EAAQ,KACGC,GACbH,KAAM,WACNI,YACEH,SAAA,GAEFI,KALa,WAMX,OACEL,KAAM,GACNM,MAAO,GACPC,SAAU,GACVC,WAAY,GACZC,WAAY,GACZC,UAAW,GACXC,UAAU,EACVC,gBAAgB,EAChBC,WAAY,EACZC,SAAU,KAGdC,QAnBa,WAoBPC,KAAKC,OAAOC,MAAMC,KACpBH,KAAKP,WAAaW,EAAA,EAASC,KAAKL,KAAKC,OAAOC,MAAMC,KAEpDH,KAAKF,SAAWQ,SAASC,MAAMC,MAAM,KAAK,IAE5CC,cAzBa,WA0BPvB,IACFwB,cAAcxB,GACdA,EAAQ,OAGZyB,SACEC,aADO,WAELZ,KAAKJ,gBAAkBI,KAAKJ,gBAExBiB,kBAJC,WAIoB,IAAAC,EAAAd,KAAA,OAAAe,IAAAC,EAAAjC,EAAAkC,KAAA,SAAAC,IAAA,IAAAC,EAAA,OAAAH,EAAAjC,EAAAqC,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,YACrBT,EAAKxB,MAAMkC,OAAS,GADC,CAAAH,EAAAE,KAAA,eAEvBE,OAAOC,SAASC,MAAM,gBAAiB,WAFhBN,EAAAO,OAAA,oBAKpBxB,EAAA,EAASyB,aAAaf,EAAKxB,OALP,CAAA+B,EAAAE,KAAA,eAMvBE,OAAOC,SAASC,MAAM,gBAAiB,cANhBN,EAAAO,OAAA,wBAAAP,EAAAE,KAAA,EASTO,OAAAC,EAAA,GAAAD,CAAYhB,EAAKxB,MAAOwB,EAAKkB,OAAOC,MAAMC,KAAKC,MATtC,OAUR,OADbhB,EATqBE,EAAAe,MAUjBC,MACNZ,OAAOC,SAASC,MAAM,gBAAiBR,EAAImB,KAE7CxB,EAAKjB,WAAa,GAClBiB,EAAKyB,aAdoB,yBAAAlB,EAAAmB,SAAAtB,EAAAJ,KAAAC,IAgB3BwB,WApBO,WAoBO,IAAAE,EAAAzC,KACZd,EAAQwD,YAAY,WACdD,EAAK5C,WAAa,EACpB4C,EAAK5C,cAELa,cAAcxB,GACdA,EAAQ,OAET,MAECyD,SA9BC,WA8BW,IAAAC,EAAA5C,KAAA,OAAAe,IAAAC,EAAAjC,EAAAkC,KAAA,SAAA4B,IAAA,OAAA7B,EAAAjC,EAAAqC,KAAA,SAAA0B,GAAA,cAAAA,EAAAxB,KAAAwB,EAAAvB,MAAA,UAChBqB,EAAK5D,KAAOoB,EAAA,EAASC,KAAKuC,EAAK5D,MAC/B4D,EAAKtD,MAAQc,EAAA,EAASC,KAAKuC,EAAKtD,OAChCsD,EAAKrD,SAAWa,EAAA,EAASC,KAAKuC,EAAKrD,UACnCqD,EAAKpD,WAAaY,EAAA,EAASC,KAAKuC,EAAKpD,YACrCoD,EAAKlD,UAAYU,EAAA,EAASC,KAAKuC,EAAKlD,WACpCkD,EAAKnD,WAAaW,EAAA,EAASC,KAAKuC,EAAKnD,cACjCmD,EAAK5D,KAAKwC,OAAS,GAPP,CAAAsB,EAAAvB,KAAA,eAQdE,OAAOC,SAASC,MAAM,gBAAiB,cARzBmB,EAAAlB,OAAA,sBAWZgB,EAAKrD,SAASiC,OAAS,GAXX,CAAAsB,EAAAvB,KAAA,gBAYdE,OAAOC,SAASC,MAAM,gBAAiB,YAZzBmB,EAAAlB,OAAA,qBAgBZgB,EAAKrD,WAAaqD,EAAKpD,WAhBX,CAAAsD,EAAAvB,KAAA,gBAiBdE,OAAOC,SAASC,MAAM,gBAAiB,cAjBzBmB,EAAAlB,OAAA,yBAAAkB,EAAAvB,KAAA,GAoBAO,OAAAC,EAAA,EAAAD,CAAgBc,EAAK5D,KAAM4D,EAAKtD,MAAOsD,EAAKrD,SAAUqD,EAAKlD,UAAWkD,EAAKZ,OAAOC,MAAMC,KAAKC,KAAMS,EAAKnD,YApBxG,QAqBC,MArBDqD,EAAAV,KAqBRC,OACNZ,OAAOC,SAASC,MAAM,gBAAiB,sBACvCoB,WAAW,WACTH,EAAKI,QAAQC,MAAMC,KAAM,YACxB,MAzBW,yBAAAJ,EAAAN,SAAAK,EAAAD,KAAA7B,MCjGPoC,GADEC,OAFjB,WAA0B,IAAAC,EAAArD,KAAasD,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,sCAAgDF,EAAA,UAAeG,OAAOpD,MAAA,UAAgB8C,EAAAO,GAAA,KAAAJ,EAAA,OAAwBE,YAAA,YAAsBL,EAAAO,GAAA,KAAAJ,EAAA,OAAwBE,YAAA,qBAA+BF,EAAA,OAAYE,YAAA,yBAAmCF,EAAA,YAAiBG,OAAOE,YAAA,UAAAC,KAAA,QAAsCC,OAAQC,MAAAX,EAAA,KAAAY,SAAA,SAAAC,GAA0Cb,EAAArE,KAAAkF,GAAaC,WAAA,UAAoBd,EAAAO,GAAA,KAAAJ,EAAA,YAA6BG,OAAOE,YAAA,YAAAC,KAAA,OAAuCC,OAAQC,MAAAX,EAAA,MAAAY,SAAA,SAAAC,GAA2Cb,EAAA/D,MAAA4E,GAAcC,WAAA,WAAqBd,EAAAO,GAAA,KAAAJ,EAAA,YAA6BG,OAAOE,YAAA,qBAAAC,KAAAT,EAAAzD,eAAA,mBAAkFmE,OAAQC,MAAAX,EAAA,SAAAY,SAAA,SAAAC,GAA8Cb,EAAA9D,SAAA2E,GAAiBC,WAAA,cAAwBX,EAAA,MAAWE,YAAA,YAAAU,OAA+BC,GAAAhB,EAAAzD,gBAAyByE,IAAKC,MAAAjB,EAAAzC,kBAA0ByC,EAAAO,GAAA,KAAAJ,EAAA,YAA+BG,OAAOE,YAAA,UAAAC,KAAA,YAA0CC,OAAQC,MAAAX,EAAA,WAAAY,SAAA,SAAAC,GAAgDb,EAAA7D,WAAA0E,GAAmBC,WAAA,gBAA0Bd,EAAAO,GAAA,KAAAJ,EAAA,YAA6BG,OAAOE,YAAA,QAAAC,KAAA,QAAoCC,OAAQC,MAAAX,EAAA,UAAAY,SAAA,SAAAC,GAA+Cb,EAAA3D,UAAAwE,GAAkBC,WAAA,eAAyBX,EAAA,UAAeE,YAAA,0CAAAC,OAA6DY,SAAAlB,EAAAxD,WAAA,GAA8B2E,UAAWC,YAAApB,EAAAqB,GAAA,IAAArB,EAAAxD,WAAA,QAAAwD,EAAAxD,WAAA,WAAmFwE,IAAKC,MAAAjB,EAAAxC,uBAA+BwC,EAAAO,GAAA,KAAAJ,EAAA,YAA+BG,OAAOgB,MAAA,MAAAd,YAAA,iBAA4CE,OAAQC,MAAAX,EAAA,WAAAY,SAAA,SAAAC,GAAgDb,EAAA5D,WAAAyE,GAAmBC,WAAA,gBAA0Bd,EAAAO,GAAA,KAAAJ,EAAA,KAAsBE,YAAA,gBAA0BF,EAAA,SAAcoB,aAAa5F,KAAA,QAAA6F,QAAA,UAAAb,MAAAX,EAAA,SAAAc,WAAA,aAA0ET,YAAA,MAAAC,OAA2BG,KAAA,YAAkBU,UAAWM,QAAAC,MAAAC,QAAA3B,EAAA1D,UAAA0D,EAAA4B,GAAA5B,EAAA1D,SAAA,SAAA0D,EAAA,UAAkFgB,IAAKa,OAAA,SAAAC,GAA0B,IAAAC,EAAA/B,EAAA1D,SAAA0F,EAAAF,EAAAG,OAAAC,IAAAF,EAAAP,QAAwE,GAAAC,MAAAC,QAAAI,GAAA,CAAuB,IAAAI,EAAAnC,EAAA4B,GAAAG,EAAA,MAAiCC,EAAAP,QAAiBU,EAAA,IAAAnC,EAAA1D,SAAAyF,EAAAK,QAAlD,QAA+FD,GAAA,IAAAnC,EAAA1D,SAAAyF,EAAAM,MAAA,EAAAF,GAAAC,OAAAL,EAAAM,MAAAF,EAAA,UAAuEnC,EAAA1D,SAAA4F,MAAoBlC,EAAAO,GAAA,qBAAAJ,EAAA,eAAgDG,OAAOgC,GAAA,gBAAmBtC,EAAAO,GAAA,KAAAJ,EAAA,QAAAH,EAAAO,GAAA,qBAAAP,EAAAO,GAAA,KAAAJ,EAAA,OAA2EE,YAAA,UAAoBF,EAAA,UAAeE,YAAA,mCAAAC,OAAsDY,UAAA,IAAAlB,EAAA1D,UAAA0D,EAAArE,KAAAwC,OAAA,GAAA6B,EAAA/D,MAAAkC,OAAA,GAAA6B,EAAA9D,SAAAiC,OAAA,GAAA6B,EAAA7D,WAAAgC,OAAA,GAAA6B,EAAA3D,UAAA8B,OAAA,GAA6J6C,IAAKC,MAAAjB,EAAAV,YAAsBU,EAAAO,GAAA,eAE3qFgC,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACE5G,EACAgE,GATF,EAVA,SAAA6C,GACEF,EAAQ,SAaV,KAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/14.47edde254783a477cd7e.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Vue from 'vue'\nimport Header from '../../components/Header'\nimport TextUtil from '../../utils/TextUtil'\nimport {sendSMSCode, requestRegister} from '../../api/API'\nimport { Field } from 'mint-ui'\nVue.component(Field.name, Field)\n\nlet timer = null\nexport default {\n  name: 'register',\n  components: {\n    Header\n  },\n  data () {\n    return {\n      name: '',\n      phone: '',\n      password: '',\n      rePassword: '',\n      inviteCode: '',\n      validCode: '',\n      isAgreed: false,\n      passwordShowed: false,\n      sendCodeCD: 0,\n      siteName: ''\n    }\n  },\n  mounted () {\n    if (this.$route.query.ib) {\n      this.inviteCode = TextUtil.trim(this.$route.query.ib)\n    }\n    this.siteName = document.title.split(\"-\")[0]\n  },\n  beforeDestroy () {\n    if (timer) {\n      clearInterval(timer)\n      timer = null\n    }\n  },\n  methods: {\n    showPassword () {\n      this.passwordShowed = !this.passwordShowed\n    },\n    async onSendCodeClicked () {\n      if (this.phone.length < 1) {\n        window.EventBus.$emit('globalMessage', '请输入手机号码')\n        return\n      }\n      if (!TextUtil.isPhoneValid(this.phone)) {\n        window.EventBus.$emit('globalMessage', '请输入正确的手机号码')\n        return\n      }\n      let res = await sendSMSCode(this.phone, this.$store.state.User.uuid)\n      if (res.code === 200) {\n        window.EventBus.$emit('globalMessage', res.msg)\n      }\n      this.sendCodeCD = 60\n      this.startTimer()\n    },\n    startTimer () {\n      timer = setInterval(() => {\n        if (this.sendCodeCD > 0) {\n          this.sendCodeCD--\n        } else {\n          clearInterval(timer)\n          timer = null\n        }\n      }, 1000)\n    },\n    async register () {\n      this.name = TextUtil.trim(this.name)\n      this.phone = TextUtil.trim(this.phone)\n      this.password = TextUtil.trim(this.password)\n      this.rePassword = TextUtil.trim(this.rePassword)\n      this.validCode = TextUtil.trim(this.validCode)\n      this.inviteCode = TextUtil.trim(this.inviteCode)\n      if (this.name.length < 0) {\n        window.EventBus.$emit('globalMessage', '需要输出您的真实姓名')\n        return\n      }\n      if (this.password.length < 6) {\n        window.EventBus.$emit('globalMessage', '密码至少为6位数')\n        return\n      }\n\n      if (this.password !== this.rePassword) {\n        window.EventBus.$emit('globalMessage', '两次输入的密码不一致')\n        return\n      }\n      let res = await requestRegister(this.name, this.phone, this.password, this.validCode, this.$store.state.User.uuid, this.inviteCode)\n      if (res.code === 200) {\n        window.EventBus.$emit('globalMessage', '注册成功，请使用您的用户名和密码登录')\n        setTimeout(() => {\n          this.$router.push({path: '/login'})\n        }, 2000)\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/Register/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mfw-page with-header page-session\"},[_c('Header',{attrs:{\"title\":\"注册账号\"}}),_vm._v(\" \"),_c('div',{staticClass:\"padding\"}),_vm._v(\" \"),_c('div',{staticClass:\"mfw-page-section\"},[_c('div',{staticClass:\"section-content pd20\"},[_c('mt-field',{attrs:{\"placeholder\":\"请填写真实姓名\",\"type\":\"text\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_vm._v(\" \"),_c('mt-field',{attrs:{\"placeholder\":\"请输入11位手机号\",\"type\":\"tel\"},model:{value:(_vm.phone),callback:function ($$v) {_vm.phone=$$v},expression:\"phone\"}}),_vm._v(\" \"),_c('mt-field',{attrs:{\"placeholder\":\"请输入6-20位字母和数字组合的密码\",\"type\":_vm.passwordShowed? 'text' : 'password'},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}},[_c('em',{staticClass:\"e-privacy\",class:{'on': _vm.passwordShowed},on:{\"click\":_vm.showPassword}})]),_vm._v(\" \"),_c('mt-field',{attrs:{\"placeholder\":\"请再次输入密码\",\"type\":\"password\"},model:{value:(_vm.rePassword),callback:function ($$v) {_vm.rePassword=$$v},expression:\"rePassword\"}}),_vm._v(\" \"),_c('mt-field',{attrs:{\"placeholder\":\"输入验证码\",\"type\":\"text\"},model:{value:(_vm.validCode),callback:function ($$v) {_vm.validCode=$$v},expression:\"validCode\"}},[_c('button',{staticClass:\"mfw-button size-sm primary btn-sendcode\",attrs:{\"disabled\":_vm.sendCodeCD > 0},domProps:{\"textContent\":_vm._s(_vm.sendCodeCD === 0 ? '发送验证码' : (_vm.sendCodeCD + \"秒后可以重发\"))},on:{\"click\":_vm.onSendCodeClicked}})]),_vm._v(\" \"),_c('mt-field',{attrs:{\"label\":\"邀请码\",\"placeholder\":\"请填写机构/IB经纪人编码\"},model:{value:(_vm.inviteCode),callback:function ($$v) {_vm.inviteCode=$$v},expression:\"inviteCode\"}}),_vm._v(\" \"),_c('p',{staticClass:\"p-agreement\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.isAgreed),expression:\"isAgreed\"}],staticClass:\"ipt\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.isAgreed)?_vm._i(_vm.isAgreed,null)>-1:(_vm.isAgreed)},on:{\"change\":function($event){var $$a=_vm.isAgreed,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.isAgreed=$$a.concat([$$v]))}else{$$i>-1&&(_vm.isAgreed=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.isAgreed=$$c}}}}),_vm._v(\"\\n        我已阅读并同意\"),_c('router-link',{attrs:{\"to\":\"/coopagree\"}},[_vm._v(\"《\"),_c('span'),_vm._v(\"合作协议》\")])],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"menus\"},[_c('button',{staticClass:\"mfw-button primary round size-lg\",attrs:{\"disabled\":_vm.isAgreed === false || _vm.name.length<1 || _vm.phone.length<1 || _vm.password.length<1 || _vm.rePassword.length<1 || _vm.validCode.length < 1},on:{\"click\":_vm.register}},[_vm._v(\"注册\")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-65529922\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/Register/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-65529922\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vux-loader/src/style-loader.js!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-65529922\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../../node_modules/vux-loader/src/template-loader.js!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Register/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}