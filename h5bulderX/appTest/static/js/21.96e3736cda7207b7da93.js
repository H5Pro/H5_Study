webpackJsonp([21],{"3Bjx":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});s("OgVB");var a=s("/Lyv"),n=s.n(a),i=s("Xxa5"),o=s.n(i),c=s("exGp"),r=s.n(c),l=s("teIl"),d=s("j5ea"),u=s("uWBr"),_=(d.a,l.a,void 0),p=!1,m={name:"collection",data:function(){return{page:{page_no:1,page_size:20,total:0,page_count:1},pageData:[],inited:!1}},components:{BottomBar:d.a,Header:l.a},mounted:function(){p=!1,this.pages=[],this.loadData()},beforeDestroy:function(){p=!0,null!==_&&(clearInterval(_),_=null)},methods:{loadData:function(){var t=this;return r()(o.a.mark(function e(){var s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.h)(t.$store.state.User.token);case 2:200===(s=e.sent).code&&(t.page=s.data.page,t.pageData=s.data.page_data),t.inited=!0,t.updataIndexs(),!1===p&&t.nextLoop();case 7:case"end":return e.stop()}},e,t)}))()},nextLoop:function(){_=setTimeout(this.loadData,5e3)},updataIndexs:function(){this.$store.dispatch("Stock/updateMarketIndex")},deleteCollect:function(t){var e=this,s=this;n.a.confirm("确认将股票从自选中移除?").then(r()(o.a.mark(function a(){return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(u.E)(e.$store.state.User.token,t);case 2:200===a.sent.code&&s.loadData();case 4:case"end":return a.stop()}},a,e)})),function(){})}}},v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mfw-page with-header with-bottom page-collection"},[s("Header",{attrs:{title:"自选"}},[s("div",{staticClass:"right",attrs:{slot:"right"},slot:"right"},[s("router-link",{staticClass:"menu",attrs:{to:"/search"}},[s("em",{staticClass:"fas fa-plus"})])],1)]),t._v(" "),s("div",{staticClass:"scroll-x stat-list"},t._l(t.$store.state.Stock.marketIndexs,function(e,a){return s("div",{key:"i"+a,staticClass:"stat-item"},[s("router-link",{attrs:{to:"/stock/"+e.stock_code}},[s("p",{staticClass:"stat-item-name"},[t._v(t._s(e.stock_name))]),t._v(" "),s("p",{staticClass:"stat-item-now"},[s("span",{staticClass:"number big",class:{"number-up":e.dif_money>0,"number-down":e.dif_money<0}},[t._v(t._s(parseFloat(e.now_price).toFixed(2)))])]),t._v(" "),s("p",{staticClass:"stat-item-compare clear-fix"},[s("span",{staticClass:"number",class:{"number-up":e.dif_money>0,"number-down":e.dif_money<0}},[t._v(t._s(e.dif_money))]),t._v(" "),s("span",{staticClass:"compare-ratio number",class:{"number-up":e.dif_money>0,"number-down":e.dif_money<0}},[t._v(t._s(e.dif_rate)+"%")])])])],1)})),t._v(" "),t._m(0),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!1===t.inited,expression:"inited === false"}],staticClass:"data-loading"},[t._m(1)]),t._v(" "),s("ul",{staticClass:"collection-list"},t._l(t.pageData,function(e,a){return s("li",{key:a},[s("router-link",{staticClass:"collection-item",attrs:{slot:"title",to:"/stock/"+e.stock_code},slot:"title"},[s("div",{staticClass:"l"},[s("p",[t._v(t._s(e.stock_name))]),s("p",{staticClass:"code"},[t._v(t._s(e.stock_code))])]),t._v(" "),s("div",{staticClass:"c"},[s("span",{staticClass:"now number"},[t._v(t._s(e.now_price))])]),t._v(" "),s("div",{staticClass:"c"},[s("span",{staticClass:"ratio",class:{"number-up":e.dif_rate>0,"number-down":e.dif_rate<0}},[t._v(t._s(e.dif_rate)+"%")])]),t._v(" "),s("div",{staticClass:"c"},[s("a",{staticClass:"menu",on:{click:function(s){s.preventDefault(),t.deleteCollect(e.stock_code)}}},[s("em",{staticClass:"fas fa-minus"})])])])],1)})),t._v(" "),s("BottomBar",{attrs:{selected:1}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("table",{staticClass:"collection-table",attrs:{cellspacing:"0",cellpadding:"0"}},[e("thead",[e("tr",[e("td",{staticClass:"l"},[this._v("股票名称")]),this._v(" "),e("td",[this._v("当前价")]),this._v(" "),e("td",[this._v("涨跌幅")]),this._v(" "),e("td",{},[this._v("操作")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"mint-indicator-spin"},[e("div",{staticClass:"mint-spinner-snake",staticStyle:{"border-top-color":"rgb(204, 204, 204)","border-left-color":"rgb(204, 204, 204)","border-bottom-color":"rgb(204, 204, 204)"}})])}]};var f=s("VU/8")(m,v,!1,function(t){s("i8cb")},null,null);e.default=f.exports},i8cb:function(t,e){}});
//# sourceMappingURL=21.96e3736cda7207b7da93.js.map